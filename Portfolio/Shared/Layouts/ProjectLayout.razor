@inherits LayoutComponentBase

<div class="page">
    <TopHeader HeaderImg="@AppState!.HeaderImgPath"
               Title="@AppState.HeaderTitle"
               UnderTitle="@AppState.HeaderUnderTitle"
               ScrollToId="main_content"
               ExtraText="@AppState.HeaderDescription"
               Style="@AppState.HeaderExtraStyles"/>

    <TopNav Links="@AppState.Links"
            MinNonStackedSize="@AppState.MinNonStackedSize"
            StackedTopPadding="12"/>

    <main class="main-content" id="main_content">
        <div class="main-content__inner">
            <MainAside>
                <Main>
                    <PageIsland IslandTitle="Info">
                        <div
                            style="position: absolute; right: 10px; top: 0; display: flex; grid-gap: 1rem;">
                            
                            @if (Model?.Repository is not null)
                            {
                                <a class="btn btn-sm btn-outline-accent"
                                   style="font-size: 2rem; text-decoration: underline; line-height: 0; display: flex; justify-content:  center; align-items: center;"
                                   href="@(Model?.Repository?.RepositoryLink())"
                                   target="_blank"
                                   title="@(Model?.Repository?.OriginType) Repository">
                                    <i class="bi bi-github"
                                       style="line-height: 0;">
                                    </i>
                                </a>
                            }
                        
                            @if (Model?.Repository?.UsesPages ?? false)
                            {
                                <a class="btn btn-sm btn-outline-accent"
                                   style="font-size: 2rem; text-decoration: underline; line-height: 0; display: flex; justify-content:  center; align-items: center;"
                                   href="@(Model?.Repository?.PagesLink())"
                                   target="_blank"
                                   title="@(Model?.Repository?.OriginType)-Pages Link">
                                    <i class="bi bi-book-half"
                                       style="line-height: 0;">
                                    </i>
                                </a>
                            }
                        </div>
                        <article style="display: flex; justify-content: center;">
                            <ProjectInfoTable Model="@Model" />
                        </article>
                    </PageIsland>
                    <CascadingValue Value="@this">
                        @Body
                    </CascadingValue>
                </Main>
                <Right>
                    <ProjectsNav ActiveProject="@Model"/>
                </Right>
            </MainAside>
        </div>
    </main>


    @if (AppState.ShowFooter)
    {
        <Footer>
            <MainSection>
                <h5 style="margin-bottom: 0">Mitchel Vonk©</h5>
            </MainSection>
        </Footer>
    }

    <ToTopBtn/>
</div>

<ImageEnlargeContainer @ref="EnlargeContainer" />
